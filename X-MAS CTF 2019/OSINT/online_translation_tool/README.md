# Online Translation Tool

 _I wrote this amazing translation tool in my spare time. I think it is really useful if you are learning French. Check it out!_
 
 **Author: Googal**


 We have a quite basic webpage with only a couple of links. Taking a look at the source code of the page doesn't show anything interesting, so let's click 'French dictionary' and move to /dictionary/french_to_english.html .

 Nothing useful in the source code here either.
 The 'Translate to English / Traduire en anglais' is only there to mock us and call us "retard". From the `<script>` tag associated with it we can see that it does nothing but change the innerHTML of the underlying div. Therefore, everything happens client-side, there's nothing more to it, there are not POST requests we can intercept and/or tamper.

 In fact, this is an OSINT challenge, it would have been weird having to edit and send POST request or something like that.

 At the bottom of both pages we can read _Made with ðŸ§¡ by Gooogal_ . Let's see if we can find some information about Gooogal.

 The first result of a Google search leads us to Gooogal's Github account, where there is in fact a repo called 'online_translation_tool'. Cool, it seems we're on the right track.

Inside the repo we see the index.html page, the README.md file and the 'dictionary' directory, but nothing useful seems to come out of these files. There's also a director called 'addons', which containts an ELF file, a cpp file and two png images.

The cpp looks like a simple program that copies the file 'logo.png' into another file 'logo2.png' with a fixed size of 10000 bytes.
The a.out file is nothing more that an executable obtained by compiling and linking the cpp file, and the two png images only differ by size; the second one was probabily generated by that very program.
Running `exiftool` on both the png's does not give us anything.

There must be something else. Let's take a look at the commit history of the repo.

The commit '27ebdcc830129d18a4d0f2a4bd0a9b18f42c6946':

_Showing **504 changed files** with **13 additions** and **0 deletions**._

And we see a series of _**BIN** -1.04 MB addons/secret\_images/1.img_.

Let's try to retrieve these files.

Scrolling further down in the commit history, we find the commit '5306df2a6f6851873222a6223eb9bb9a45ecb099' that we can use to download all these files.

We clone the repo with that specific changeset by running

```
git clone https://github.com/Gooogal/online_translation_tool/
cd online_translation_tool
git checkout 5306df2a6f6851873222a6223eb9bb9a45ecb099
```

Nice, now we have this whole bunch of `.img` files. Let's see what we can do with them.

Running `file *.img` in the directory we find out that they're actually all png. I decided to rename them from '.img' to '.png' to be able to take a quick look at the thumbnails from the file explorer.

```
for f in *.img; do mv "$f" "$(echo "$f" | sed s/img/png/)"; done
```

This bash oneliner does the trick (maybe it's not the most elegant way, I don't know. Feel free to comment if you know more).

The images apparently all look the same. Let's check if there **really** are all the same.
We run `md5sum *.png`, as this will immediately show us if there's even just a different bit among those files.

The files from `1.png` to `459.png` are in fact exact copies, but from `460.png` to `502.png` they all differ in something.
We run `exiftool 460.png` to see if we can get something interesting from it and, in fact, the command outputs this line:

```
Warning                         : [minor] Trailer data after PNG IEND chunk
```

Interesting, let's see what's that with `xxd 460.png | tail`:
```
00109870: 4945 4e44 ae42 6082 580a                 IEND.B`.X.
```

Oooh, that 'X' looks promising.

After deleting all files from 1 to 459, we run:

```
for f in *.png; do       
  xxd "$f" | tail -n1
done
```
and we get the flag that was hidden and spread in the second-last byte of every file.

### Flag: X-MAS{but_my_s3cr3t5_w3r3_h1dd3n_s3cur3ly}

